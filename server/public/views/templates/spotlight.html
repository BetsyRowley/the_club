<header ng-include="'/views/partials/nav.html'"></header>

<div class="container">
  <div class="row">
    <h1>Spotlight Book</h1>
  </div>
    <div class="row">
      <div ng-init = "spotlight.getSpotlight()">
          <div ng-repeat = "book in spotlight.activeResults.array">
            <div class="col-md-6">
              <img ng-src="http://covers.openlibrary.org/b/isbn/{{book.isbn}}-L.jpg"
                    alt="{{book.title}} Book Cover">
            </div>
            <div class="col-md-6">
              <p>{{book.title}}</p>
              <p>by {{book.author}}</p>
              <p>Published: {{book.publishedyear}}</p>
              <p>Selected By: {{book.selected_by}}</p>
              <p>Next Meeting Date: {{book.meeting_date | date}}</p>
              <p>Comments: {{book.notes}}</p>
              <button type="button" name="Edit" class = "btn btn-default"
                      aria-label = "true" ng-click = "spotlight.showEditForm(book)">
                  <span class = "glyphicon glyphicon-pencil" aria-hidden = "true"></span></button>
              <button type="button" name="Delete" class = "btn btn-default"
                      ng-click = "spotlight.deleteSpotlight(book)">Delete</button>
              <!-- shows edit view -->
              <div ng-if = "spotlight.editing">
                <form ng-submit="spotlight.editSpotlight()">
                  <div>
                      <label for="title">Title:</label>
                      <input type="text" ng-model="spotlight.feature.book.title"/>
                  </div>
                  <div>
                      <label for="author">Author:</label>
                      <input type="text" ng-model="spotlight.feature.book.author" />
                  </div>
                  <div>
                      <label for="current">Current Selection:</label>
                      <input type="radio" ng-model="spotlight.feature.book.active" value = "true" /> Yes
                      <input type="radio" ng-model="spotlight.feature.book.active" value = "false" /> No
                  </div>
                  <div>
                      <label for="selected_by">Selected By: </label>
                      <input type="text" ng-model="spotlight.feature.book.selected_by" />
                  </div>
                  <div>
                      <label for="meeting_date">Next Meeting Date:</label>
                      <input type="date" ng-model="spotlight.feature.book.meeting_date" />
                  </div>
                  <div>
                      <label for="notes">Notes:</label>
                      <input type="text" ng-model="spotlight.feature.book.notes" />
                  </div>
                  <input class="btn btn-primary" type="submit" name="submit" value="Submit" />
                  <!-- <a href="#spotlight">Cancel</a> -->
                  <button type="button" name="cancel" class = "btn btn-default"
                          ng-click = "spotlight.cancelEdit()">Cancel</button>
                </form>
              </div>
            </div>

          </div>
      </div>
    </div>




  </div>
