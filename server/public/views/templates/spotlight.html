<header ng-include="'/views/partials/nav.html'"></header>

<div class="container">
  <div class="row">
    <div class="col-md-8">
      <h2 id="spotTitle">Spotlight Book</h2>
    </div>

  </div>
    <div class="row">
      <div ng-init = "spotlight.getSpotlight()">
          <div ng-repeat = "book in spotlight.activeResults.array">
            <div class="col-md-6">
              <img ng-src="http://covers.openlibrary.org/b/isbn/{{book.isbn}}-L.jpg"
                    alt="{{book.title}} Book Cover">
            </div>
            <div class="col-md-6">
              <p>{{book.title}}</p>
              <p>by {{book.author}}</p>
              <p>Published: {{book.publishedyear}}</p>
              <p>Selected By: {{book.selected_by}}</p>
              <p>Next Meeting Date: {{book.meeting_date | date}}</p>
              <p>Comments: {{book.notes}}</p>
              <button type="button" name="Edit" class = "btn btn-default"
                      aria-label = "true" ng-click = "spotlight.showEditForm(book)">
                  <span class = "glyphicon glyphicon-pencil" aria-hidden = "true"></span></button>
              <button type="button" name="Delete" class = "btn btn-default"
                      ng-click = "spotlight.deleteSpotlight(book)">Delete</button>
              <!-- shows edit view -->
              <div ng-if = "spotlight.editing">
                <form class = "form-horizontal well well-md" ng-submit="spotlight.editSpotlight()">
                  <div class = "form-group">
                      <label for="title" class="col-sm-2 control-label">Title:</label>
                      <div class="col-sm-10">
                        <input class="form-control" type="text" ng-model="spotlight.feature.book.title"/>
                      </div>

                  </div>
                  <div class = "form-group">
                      <label for="author" class="col-sm-2 control-label">Author:</label>
                      <div class= "col-sm-10">
                          <input class="form-control" type="text" ng-model="spotlight.feature.book.author" />
                      </div>

                  </div>
                  <div class = "form-group">
                      <label for="current">Current Selection:</label>
                      <input type="radio" ng-model="spotlight.feature.book.active" value = "true" /> Yes
                      <input type="radio" ng-model="spotlight.feature.book.active" value = "false" /> No
                  </div>
                  <div class = "form-group">
                      <label for="selected_by" class="col-sm-2 control-label">Selected By: </label>
                      <!-- <input type="text" ng-model="spotlight.feature.book.selected_by" /> -->
                      <div class="col-sm-10">
                        <select class="form-control">
                            <option>Betsy</option>
                            <option>Oprah</option>
                        </select>
                      </div>

                  </div>
                  <div class = "form-group">
                      <label for="meeting_date">Next Meeting Date:</label>
                      <input type="date" ng-model="spotlight.feature.book.meeting_date" />
                  </div>
                  <div class = "form-group">
                      <label for="notes">Notes:</label>
                      <textarea class="form-control" rows = "3" type="text" ng-model="spotlight.feature.book.notes"></textarea>
                  </div>
                  <input class="btn btn-primary" type="submit" name="submit" value="Submit" />
                  <!-- <a href="#spotlight">Cancel</a> -->
                  <button type="button" name="cancel" class = "btn btn-default"
                          ng-click = "spotlight.cancelEdit()">Cancel</button>
                </form>
              </div>
            </div>

          </div>
      </div>
    </div>




  </div>
